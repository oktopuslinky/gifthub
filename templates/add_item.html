{% extends 'base.html' %}

{% block content %}

    <form action='/search' method='POST'>
        
        <label for='search_term'>Search on Amazon:</label>
        <input type='text' name='search_term'>

        <label for='submit'>Search</label>
        <input type='submit' name='submit'>
    </form>

    <table>
        <tr>
            <th>Item name</th>
            <th>Price</th>
        </tr>
        
        <!-- do for range loop to get record number, then transmit data to app.py -->

        {% for record in records %}
        
        <tr>
            <td><a href='{{ record[3] }}'>{{ record[1] }}</a></td>
            <td>{{ record[2] }}</td>
            <td><button>Add Item</button></td>
        </tr>

        {% endfor %}
    
    </table>

    <script>
        function sendItem(asin){
            console.log(asin)
            /*
            data = {
                'asin': asin,
                'description': description,
                'price': price,
                'url': url
            }

            console.log(data);

            $.ajax({
                type: "POST",
                url: "{{ url_for('add_item') }}",
                contentType: 'application/json;charset=UTF-8',
                data: data
            });
            */
        }
    </script>

    

{% endblock %}